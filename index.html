<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>S.O.S Celulares - Celulares Novos e Seminovos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Container principal -->
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-2xl font-bold text-gray-800 mb-6 text-center">Nossos Produtos</h1>

    <!-- Seção de celulares novos -->
    <h2 class="text-xl font-bold text-gray-700 mb-4">Celulares Novos</h2>
    <div id="new-phones-container" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>

    <!-- Seção de celulares seminovos -->
    <h2 class="text-xl font-bold text-gray-700 mt-8 mb-4">Celulares Seminovos</h2>
    <div id="used-phones-container" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>

    <!-- Seção de acessórios -->
    <h2 class="text-xl font-bold text-gray-700 mt-8 mb-4">Acessórios</h2>
    <div id="accessories-container" class="grid grid-cols-1 md:grid-cols-3 gap-6"></div>
  </div>

  <!-- Modal -->
  <div id="productModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg max-w-lg w-full p-6 relative">
      <button onclick="closeProductModal()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">✕</button>
      <div id="modalContent"></div>
    </div>
  </div>

  <script>
    const products = [
      {
        id: 1,
        name: "Realme C75X",
        category: "Novo",
        price: {
          avista: "R$ 1.189,90",
          parcelado: "12x R$ 128,99"
        },
        description: "O Realme C75X combina desempenho e estilo, oferecendo uma tela ampla, câmeras de alta qualidade e bateria duradoura.",
        images: ["https://via.placeholder.com/300x300"]
      },
      {
        id: 2,
        name: "iPhone 12 Pro",
        category: "Seminovo",
        price: {
          avista: "R$ 3.500,00"
        },
        description: "iPhone 12 Pro seminovo em excelente estado, câmera tripla e design premium.",
        images: ["https://via.placeholder.com/300x300"],
        condition: "Seminovo"
      },
      {
        id: 3,
        name: "Carregador Turbo",
        category: "Acessórios",
        price: "R$ 89,90",
        description: "Carregador turbo compatível com diversos modelos de celulares.",
        images: ["https://via.placeholder.com/300x300"]
      }
    ];

    function renderProducts(products) {
      const newC = document.getElementById('new-phones-container');
      const usedC = document.getElementById('used-phones-container');
      const accC = document.getElementById('accessories-container');
      newC.innerHTML = '';
      usedC.innerHTML = '';
      accC.innerHTML = '';

      products.forEach(p => {
        const card = document.createElement('div');
        card.className = 'bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition flex flex-col';

        card.innerHTML = `
          <div class="h-48 bg-gray-100 flex items-center justify-center p-4">
            <img src="${p.images[0]}" alt="${p.name}" class="max-h-full max-w-full object-contain" loading="lazy">
          </div>

          <div class="p-4 flex flex-col flex-1">
            <h3 class="text-lg font-bold text-gray-800 mb-1">${p.name}</h3>
            <p class="text-gray-600 text-sm mb-2">${p.description}</p>
            ${p.color ? `<p class="text-gray-600 text-sm mb-2"><strong>Cor:</strong> ${p.color}</p>` : ''}
            ${p.condition ? `<p class="text-gray-600 text-sm mb-2"><strong>Estado:</strong> ${p.condition}</p>` : ''}

            <div class="mt-auto flex items-center justify-between">
              <p class="text-xl font-bold text-blue-600">
                ${typeof p.price === 'object'
                  ? `<strong>À vista:</strong> ${p.price.avista || ''}${p.price.parcelado ? `<br><strong>Parcelado:</strong> ${p.price.parcelado}` : ''}`
                  : p.price}
              </p>
              <div class="btn-container"></div>
            </div>
          </div>
        `;

        // Cria o botão separadamente
        const btn = document.createElement('button');
        btn.className = 'bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition ml-4';
        btn.textContent = 'Ver Produto';
        btn.addEventListener('click', () => openProductModal(p));

        // Adiciona dentro do container do botão
        card.querySelector('.btn-container').appendChild(btn);

        if(p.category === "Novo") newC.appendChild(card);
        else if(p.category === "Seminovo") usedC.appendChild(card);
        else accC.appendChild(card);
      });
    }

    function openProductModal(product) {
      const modal = document.getElementById("productModal");
      const content = document.getElementById("modalContent");
      content.innerHTML = `
        <h2 class="text-2xl font-bold mb-4">${product.name}</h2>
        <img src="${product.images[0]}" alt="${product.name}" class="w-full h-64 object-contain mb-4">
        <p class="text-gray-700 mb-2">${product.description}</p>
        ${product.color ? `<p class="text-gray-700 mb-2"><strong>Cor:</strong> ${product.color}</p>` : ""}
        ${product.condition ? `<p class="text-gray-700 mb-2"><strong>Estado:</strong> ${product.condition}</p>` : ""}
        <p class="text-blue-600 font-bold text-lg">
          ${typeof product.price === "object"
            ? `<strong>À vista:</strong> ${product.price.avista || ""}${product.price.parcelado ? `<br><strong>Parcelado:</strong> ${product.price.parcelado}` : ""}`
            : product.price}
        </p>
      `;
      modal.classList.remove("hidden");
    }

    function closeProductModal() {
      document.getElementById("productModal").classList.add("hidden");
    }

    renderProducts(products);
  </script>
</body>
</html>
